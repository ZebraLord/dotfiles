"Basic settings"
set nocompatible
call pathogen#infect()
call pathogen#helptags()
set backspace=indent,eol,start
set wildignore+=*/tmp/*,*/build/*,*.o,*.so,*.swp,*.zip,*/node_modules/*,*.a,*.lock,*.class,*/vendor/*
set virtualedit=onemore
set number
set mouse=a
set shortmess=I
set pastetoggle=<F2>
filetype plugin indent on

"Colorscheme Settings"
syntax on
set synmaxcol=800
set t_Co=256
set background=dark
let g:badwolf_darkgutter=0
let g:badwolf_css_props_highlight=1
let g:badwolf_tabline=1
let g:badwolf_html_link_underline=1
colorscheme badwolf

"Search settings"
set hlsearch
set incsearch
set showmatch
set ignorecase
set smartcase
augroup hltoggle
  au!
  au InsertEnter * set nohlsearch
  au InsertLeave * set hlsearch
augroup end

"Indentation settings"
set tabstop=2
set softtabstop=2
set shiftwidth=2
set expandtab
set autoindent
set smartindent
set smarttab

"Statusline settings"
set laststatus=2
let g:Powerline_symbols='fancy'
let g:Powerline_cache_enabled=1
let g:Powerline_colorscheme='badwolf'
call Pl#Theme#InsertSegment('ws_marker', 'after', 'lineinfo')

"Convenience mappings"
inoremap jj <Esc>`^
inoremap JJ <Esc>`^
vnoremap ,, <Esc>
cnoremap w!! %!sudo tee > /dev/null %

"Reasonable line movement"
nnoremap j gj
nnoremap k gk
vnoremap j gj
vnoremap k gk

"Window movement mappings"
nnoremap <c-h> <c-w>h
nnoremap <c-l> <c-w>l
nnoremap <c-j> <c-w>j
nnoremap <c-k> <c-w>k

"Shift-tab reverse-indenting"
nnoremap <S-Tab> <<
inoremap <S-Tab> <Esc><<i

"Resize splits when window is resized"
au VimResized * :wincmd =

"Get rid of annoying bell sound"
set noerrorbells visualbell t_vb=

"Gundo Settings"
set history=500
let g:gundo_close_on_revert=1

"NERDTree settings"
let NERDTreeIgnore=['\.pyc$', '\~$', '\.rbc$']
let NERDTreeMinimalUI=1
let NERDTreeDirArrows=1

"LaTeX Settings"
let g:tex_flavor='latex'
let g:Tex_DefaultTargetFormat='pdf'
let g:Tex_UseMakefile=0

"Filetype specific settings"
augroup typeSpecific
  au!
  au FileType html,xml,xsl source ~/.vim/bundle/closetag.vim/plugin/closetag.vim
  au FileType make setlocal noexpandtab
  au FileType java setlocal sw=4 ts=4
  au FileType markdown call HighlightOver()
  au BufNewFile,BufRead *.tss setlocal filetype=javascript.titanium
augroup end

"Leader Mappings"
let mapleader=","
nnoremap <Leader>l :noh<CR>
nnoremap <Leader>a gt
nnoremap <A :tabprevious<CR>
nnoremap <Leader>n :NERDTreeToggle<CR>:wincmd =<CR>
nnoremap <Leader>D :NERDTreeFind<CR>
nnoremap <Leader>t <Esc>:tabnew<CR>
nnoremap <Leader>= YpVr=
nnoremap <Leader>- :%s/\v[ \t]+$//g<CR>i<Esc>``
nnoremap <Leader>h :GundoToggle<CR><CR>
nnoremap <Leader>" :call DecodeQuotes()<CR>
